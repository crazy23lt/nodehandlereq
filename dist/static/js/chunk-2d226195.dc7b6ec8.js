(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d226195"],{e6e3:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"liut-container"},[n("el-col",{attrs:{span:22,offset:1}},[n("el-card",{staticClass:"box-card"},[n("avue-crud",{ref:"crud",attrs:{"table-loading":e.loading,data:e.data,option:e.option,page:e.pageInfo},on:{"refresh-change":e.refresh,"row-save":e.rowSave,"row-update":e.rowUpdate,"row-del":e.rowDel,"update:page":function(t){e.pageInfo=t},"on-load":e.onLoad,"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)],1)},a=[],o=n("1da1"),c=(n("96cf"),n("159b"),n("99af"),n("b775"));function u(e){var t=e.url;return Object(c["a"])({url:"/".concat(t,"/options"),method:"get",auth:!0})}function i(e){var t=e.url,n=e.id,r=e.data;return Object(c["a"])({url:"/".concat(t,"/").concat(n),method:"put",auth:!0,data:r})}function s(e){var t=e.url,n=e.id;return console.info({url:t,id:n}),Object(c["a"])({url:"/".concat(t,"/").concat(n),method:"delete",auth:!0})}function l(e){var t=e.url,n=e.data;return Object(c["a"])({url:"/".concat(t),method:"POST",auth:!0,data:n})}var d={data:function(){return{url:"",loading:!0,data:[],option:{},pageInfo:{pageSizes:[2,5,8,10],pageSize:2,total:1,currentPage:1}}},computed:{model:function(){var e={};return this.option.column.forEach((function(t){e[t.prop]=null})),e}},created:function(){this.url=this.$route.meta.resources},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u({url:e.url});case 2:n=t.sent,e.option=n,e.$nextTick((function(){e.loading=!1,e.$refs.crud.init()}));case 5:case"end":return t.stop()}}),t)})))()},methods:{getResourcesList:function(e){this.pageInfo.total=40},rowSave:function(e,t,n){var r=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(o in r.model)r.model[o]=e[o];return c={url:r.url,data:r.model},a.next=4,l(c);case 4:u=a.sent,n(),u?(r.$notify({title:"成功",message:"课程创建成功",type:"success"}),t(e),r.getResourcesList()):r.$notify({title:"失败",message:"课程创建失败",type:"error"});case 7:case"end":return a.stop()}}),a)})))()},refresh:function(){this.getResourcesList(this.pageInfo)},rowDel:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s({url:n.url,id:e._id});case 2:r=t.sent,r?(n.$notify({title:"成功",message:"课程删除成功",type:"success"}),n.getResourcesList()):n.$notify({title:"失败",message:"课程删除失败",type:"error"});case 4:case"end":return t.stop()}}),t)})))()},rowUpdate:function(e,t,n,r){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(o in console.info(e),a.model)a.model[o]=e[o];return c={url:a.url,id:e._id,data:a.model},t.next=5,i(c);case 5:u=t.sent,r(),u?(a.$notify({title:"成功",message:"课程更新成功",type:"success"}),n(),a.getResourcesList()):a.$notify({title:"失败",message:"课程更新失败",type:"error"});case 8:case"end":return t.stop()}}),t)})))()},sizeChange:function(e){console.info("每页容量:".concat(e))},currentChange:function(e){console.info("当前页数:".concat(e))}}},f=d,p=n("2877"),g=Object(p["a"])(f,r,a,!1,null,null,null);t["default"]=g.exports}}]);